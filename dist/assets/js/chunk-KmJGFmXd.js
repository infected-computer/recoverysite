import{r as e,j as t}from"./chunk-mWrko00G.js";import{c as n,a as r,P as o,b as i,D as s,C as a,R as l,u as c,A as u,d as p,e as d,f}from"./chunk-DSaP-YT4.js";function h(n){const r=y(n),o=e.forwardRef((n,o)=>{const{children:i,...s}=n,a=e.Children.toArray(i),l=a.find(m);if(l){const n=l.props.children,i=a.map(t=>t===l?e.Children.count(n)>1?e.Children.only(null):e.isValidElement(n)?n.props.children:null:t);return t.jsx(r,{...s,ref:o,children:e.isValidElement(n)?e.cloneElement(n,void 0,i):null})}return t.jsx(r,{...s,ref:o,children:i})});return o.displayName=`${n}.Slot`,o}var x=h("Slot");function y(t){const r=e.forwardRef((t,r)=>{const{children:o,...i}=t;if(e.isValidElement(o)){const t=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}(o),s=function(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...e)=>{const t=i(...e);return o(...e),t}:o&&(n[r]=o):"style"===r?n[r]={...o,...i}:"className"===r&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}(i,o.props);return o.type!==e.Fragment&&(s.ref=r?n(r,t):t),e.cloneElement(o,s)}return e.Children.count(o)>1?e.Children.only(null):null});return r.displayName=`${t}.SlotClone`,r}var g=Symbol("radix.slottable");function v(e){const n=({children:e})=>t.jsx(t.Fragment,{children:e});return n.displayName=`${e}.Slottable`,n.__radixId=g,n}function m(t){return e.isValidElement(t)&&"function"==typeof t.type&&"__radixId"in t.type&&t.type.__radixId===g}var[b,w]=r("Tooltip",[i]),C=i(),E="TooltipProvider",T=700,R="tooltip.open",[j,_]=b(E),P=n=>{const{__scopeTooltip:r,delayDuration:o=T,skipDelayDuration:i=300,disableHoverableContent:s=!1,children:a}=n,l=e.useRef(!0),c=e.useRef(!1),u=e.useRef(0);return e.useEffect(()=>{const e=u.current;return()=>window.clearTimeout(e)},[]),t.jsx(j,{scope:r,isOpenDelayedRef:l,delayDuration:o,onOpen:e.useCallback(()=>{window.clearTimeout(u.current),l.current=!1},[]),onClose:e.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l.current=!0,i)},[i]),isPointerInTransitRef:c,onPointerInTransitChange:e.useCallback(e=>{c.current=e},[]),disableHoverableContent:s,children:a})};P.displayName=E;var D="Tooltip",[k,L]=b(D),I="TooltipTrigger";e.forwardRef((n,r)=>{const{__scopeTooltip:o,...i}=n,s=L(I,o),a=_(I,o),l=C(o),f=e.useRef(null),h=c(r,f,s.onTriggerChange),x=e.useRef(!1),y=e.useRef(!1),g=e.useCallback(()=>x.current=!1,[]);return e.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),t.jsx(u,{asChild:!0,...l,children:t.jsx(p.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...i,ref:h,onPointerMove:d(n.onPointerMove,e=>{"touch"!==e.pointerType&&(y.current||a.isPointerInTransitRef.current||(s.onTriggerEnter(),y.current=!0))}),onPointerLeave:d(n.onPointerLeave,()=>{s.onTriggerLeave(),y.current=!1}),onPointerDown:d(n.onPointerDown,()=>{s.open&&s.onClose(),x.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:d(n.onFocus,()=>{x.current||s.onOpen()}),onBlur:d(n.onBlur,s.onClose),onClick:d(n.onClick,s.onClose)})})}).displayName=I;var[M,O]=b("TooltipPortal",{forceMount:void 0}),N="TooltipContent",S=e.forwardRef((e,n)=>{const r=O(N,e.__scopeTooltip),{forceMount:i=r.forceMount,side:s="top",...a}=e,l=L(N,e.__scopeTooltip);return t.jsx(o,{present:i||l.open,children:l.disableHoverableContent?t.jsx(W,{side:s,...a,ref:n}):t.jsx(A,{side:s,...a,ref:n})})}),A=e.forwardRef((n,r)=>{const o=L(N,n.__scopeTooltip),i=_(N,n.__scopeTooltip),s=e.useRef(null),a=c(r,s),[l,u]=e.useState(null),{trigger:p,onClose:d}=o,f=s.current,{onPointerInTransitChange:h}=i,x=e.useCallback(()=>{u(null),h(!1)},[h]),y=e.useCallback((e,t)=>{const n=e.currentTarget,r={x:e.clientX,y:e.clientY},o=function(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n})}return r}(r,function(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,o,i)){case i:return"left";case o:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}(r,n.getBoundingClientRect())),i=function(e){const t=e.slice();return t.sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0),function(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const n=e[r];for(;t.length>=2;){const e=t[t.length-1],r=t[t.length-2];if(!((e.x-r.x)*(n.y-r.y)>=(e.y-r.y)*(n.x-r.x)))break;t.pop()}t.push(n)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const t=e[r];for(;n.length>=2;){const e=n[n.length-1],r=n[n.length-2];if(!((e.x-r.x)*(t.y-r.y)>=(e.y-r.y)*(t.x-r.x)))break;n.pop()}n.push(t)}return n.pop(),1===t.length&&1===n.length&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}(t)}([...o,...function(e){const{top:t,right:n,bottom:r,left:o}=e;return[{x:o,y:t},{x:n,y:t},{x:n,y:r},{x:o,y:r}]}(t.getBoundingClientRect())]);u(i),h(!0)},[h]);return e.useEffect(()=>()=>x(),[x]),e.useEffect(()=>{if(p&&f){const e=e=>y(e,f),t=e=>y(e,p);return p.addEventListener("pointerleave",e),f.addEventListener("pointerleave",t),()=>{p.removeEventListener("pointerleave",e),f.removeEventListener("pointerleave",t)}}},[p,f,y,x]),e.useEffect(()=>{if(l){const e=e=>{const t=e.target,n={x:e.clientX,y:e.clientY},r=p?.contains(t)||f?.contains(t),o=!function(e,t){const{x:n,y:r}=e;let o=!1;for(let i=0,s=t.length-1;i<t.length;s=i++){const e=t[i],a=t[s],l=e.x,c=e.y,u=a.x,p=a.y;c>r!=p>r&&n<(u-l)*(r-c)/(p-c)+l&&(o=!o)}return o}(n,l);r?x():o&&(x(),d())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[p,f,l,d,x]),t.jsx(W,{...n,ref:a})}),[B,F]=b(D,{isInside:!1}),V=v("TooltipContent"),W=e.forwardRef((n,r)=>{const{__scopeTooltip:o,children:i,"aria-label":c,onEscapeKeyDown:u,onPointerDownOutside:p,...d}=n,f=L(N,o),h=C(o),{onClose:x}=f;return e.useEffect(()=>(document.addEventListener(R,x),()=>document.removeEventListener(R,x)),[x]),e.useEffect(()=>{if(f.trigger){const e=e=>{const t=e.target;t?.contains(f.trigger)&&x()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[f.trigger,x]),t.jsx(s,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:u,onPointerDownOutside:p,onFocusOutside:e=>e.preventDefault(),onDismiss:x,children:t.jsxs(a,{"data-state":f.stateAttribute,...h,...d,ref:r,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[t.jsx(V,{children:i}),t.jsx(B,{scope:o,isInside:!0,children:t.jsx(l,{id:f.contentId,role:"tooltip",children:c||i})})]})})});S.displayName=N;var H="TooltipArrow";e.forwardRef((e,n)=>{const{__scopeTooltip:r,...o}=e,i=C(r);return F(H,r).isInside?null:t.jsx(f,{...i,...o,ref:n})}).displayName=H;var $=P,K=S,X=e.forwardRef((e,n)=>t.jsx(p.label,{...e,ref:n,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));X.displayName="Label";var Y=X;export{K as C,$ as P,Y as R,x as S,h as c};
